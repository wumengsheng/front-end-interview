### 谈谈cookie的优点和弊端  
#### 目录&步骤  
1. [cookie的局限性](#1)  
2. [优点](#2)  
3. [弊端](#3)  

---
<p id = "1"><b>cookie的局限性</b></p>  
cookie虽然再持久保存客户端数据方面提供了方便，分担了服务器存储的负担，但也有很多局限性。  
<b>1. 每个特定的域名下最多生成20个cookie；</b>    
  * IE6或更低版本最多生成20个cookie；  
  * IE7和之后的版本最后可以有50个cookie；  
  * Firefox最多有50个cookie；  
  * chrome和Safari没有做硬性限制。  
 
<b>2. IE和Opera会清理近期最少使用的cookie，Firefox会随机清理cookie；</b>    
<b>3. cookie的最大长度约为4096字节，为了兼容性，一般不超过4095字节。</b>  

IE提供了一种存储可以持久化用户数据，叫做userdata，从IE5.0开始支持。每个数据最多128k，每个域名下最多1M。这个持久化数据放在缓存中，如果缓存没有清理，那么会一直存在。  

---
<p id = "2"><b>优点：极高的扩展性和可用性</b></p>  
* 通过良好的编程，控制保存在cookie中的session对象的大小；
* 通过加密和安全传输技术（SSL），减少cookie被破解的可能性；
* 只在cookie中存放不敏感数据，即使被盗也不会有重大损失；
* 控制cookie的生命期，使之不会永远有效。偷盗者很可能拿到一个过期的cookie。  

---
<p id = "3"><b>弊端（缺点）</b></p>  
* cookie数量和长度的限制。每个域名最多只能有20条cookie，每个cookie长度不能超过4KB，否则会被截掉；
* 安全性问题。如果cookie被人拦截了，那人就可以取得所有的session信息。即使加密也于事无补，因为拦截者并不需要知道cookie的意义，只需要原样转发就可达到目的；
* 有些状态不可能保存在客户端。例如，为防止重复提交表单，需要在服务器端保存一个计数器。如果把计数器保存在客户端，那么它就起不到任何作用。


