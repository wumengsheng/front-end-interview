### 深入理解JS闭包（closure）  
##### 目录&步骤  
1. [变量的作用域](#1)    
2. [如何从函数外部读取局部变量](#2)  
3. [闭包的概念](#3)  
4. [](#4)  
5. [](#5)  
6. [](#6)  
    
---
<p id = "1"><b>一、变量的作用域</b></p>    
要理解闭包，必须先理解JS特殊的变量作用域：**全局变量和局部变量**  
1. 函数内部可以直接读取全局变量。代码示例：  
`var n = 999;`  
`function f1() {`  
    `alert(n);`  
`}`  
`f1();//999`  
2. 函数外部无法读取函数内部的局部变量。代码示例：  
`function f1() {`  
    `var n = 999;`  
`}`  
`alert(n);//error`  
**注：函数内部声明的时候，一定要使用var命令。如果不用的话，那么实际上声明了一个全局变量！**代码示例：  
`function f1() {`  
    `n = 999;`  
`}`  
`f1();`  
`alert(n);//999`  

---
<p id = "2"><b>二、如何从函数外部读取局部变量？</b></p>  
当需要得到函数内的局部变量时，只有通过变通方法才可实现：**在函数内部，再定义一个函数。**代码示例：  
`function f1() {`  
    `n = 999;`  
    `function f2() {`  
        `alert(n);//999`  
   `}`  
`}`  
解释：  
* 函数f2在函数f1内部，这时f1内部的所有局部变量，对f2来说都是可见的。  
* 但相反，f2内部的局部变量，对f1来说是不可见的。这就是JS语言特有的<b>“链式作用域”</b>结构（chain scope）。  
* 所以只要把f2作为返回值，便可以利用f2来读取f1中的局部变量。代码示例：  
`function f1() {`  
    `n = 999;`  
    `function f2() {`  
`&nbsp;&nbsp;&nbsp;alert(n);`  
    `}`  
    `return f2`  
`}`  
`var result = f1();`  
`result();//999`  

---
<p id = "3"><b>三、闭包的概念</b></p>    

